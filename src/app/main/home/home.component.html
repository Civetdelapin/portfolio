<div fxFill fxLayout="column">
  <header [config]="{axis: 'Y', speed: .25}" parallax class="background-image" fxLayout="column">

      <particles [params]="myParticleParams" [style]="myParticleStyle"></particles>

      <div class="front-div" fxLayout="row" fxLayoutAlign="center center" >
        <nav fxFlex="60" fxFlex.gt-md="30" fxFlex.lt-sm="95" [@fadeInOnEnter] fxLayout="row" fxLayoutAlign="space-between center">
            <a href="#about">{{ 'about.header' | translate }}</a>
            <a href="#work">{{ 'work.header' | translate }}</a>
            <a href="#skills">{{ 'skills.header' | translate }}</a>
            <a href="#contact">{{ 'contact.header' | translate }}</a>
        </nav>
      </div>

      <div class="front-div"  fxFlex="1 1 auto" fxLayout="column" fxLayoutAlign="center center" >
        <div fxLayout="column" fxLayoutAlign="start center" >
          <h1 [@bounceInOnEnter]>{{'name' | translate}}</h1>
          <div class="sub-title-wrapper">
            <teximate *ngIf="showHeaderText" [enter]="enterTextAnimation" [text]="getSubHeader()"></teximate>
          </div>
          <div fxLayout="row" fxLayoutGap="8px">
            <img class="pokeball" [alt]="'pokeball_' + i" [@rotateInDownRightOnEnter]="{ value: '', params: { delay: 2500+(i * 150) } }" *ngFor="let i of [0, 1, 2, 3]" [src]=" 'assets/images/pokeballs/' + i + '.svg'">
          </div>
        </div>
      </div>
  </header>

  <main fxFlex="1 1 auto" fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="30px" >
      <section id="about" >
        <ng-container>
          <div class="view-port-trigger"
               inViewport
               [inViewportOptions]="inViewportOptions"
               (inViewportAction)="onIntersection($event, 'about')">
          </div>
          <h2 #aboutHeader [@fadeInLeft]="{ value: isSectionActive('about'), params: { delay: headerAnimationDelay }, opacity : 1 }" (@fadeInLeft.done)="setOpacity(aboutHeader, 'about')">{{ "about.header" | translate }}</h2>
          <div class="content" #aboutParagraph [@fadeInUp]="{ value: isSectionActive('about'), params: { delay: contentAnimationDelay }, opacity : 1}" (@fadeInUp.done)="setOpacity(aboutParagraph, 'about')" [innerHTML]="translate.instant('about.content')">
          </div>
        </ng-container>
      </section>

      <section id="work">
        <ng-container>
          <div class="view-port-trigger"
               inViewport
               [inViewportOptions]="inViewportOptions"
               (inViewportAction)="onIntersection($event, 'work')">
          </div>
          <h2 #workHeader [@fadeInRight]="{ value: isSectionActive('work'), params: { delay: headerAnimationDelay }, opacity : 1 }" (@fadeInRight.done)="setOpacity(workHeader, 'work')">{{ 'work.header' | translate }}</h2>
          <div class="project-wrapper" fxLayout="row wrap" fxLayoutAlign="center center">
              <div class="project-div"  #workProject (@fadeInUp.done)="setOpacity(workProject, 'work')" [@fadeInUp]="{ value: isSectionActive('work'), params: { delay: contentAnimationDelay + (i * 100) }, opacity : 1 }" *ngFor="let project of projectList; let i = index">
                <app-project [projectData]="project"></app-project>
              </div>
          </div>
        </ng-container>
      </section>

      <section id="skills">
        <div class="view-port-trigger"
             inViewport
             [inViewportOptions]="inViewportOptions"
             (inViewportAction)="onIntersection($event, 'skills')">
        </div>
        <h2 #skillsHeader [@fadeInLeft]="{ value: isSectionActive('skills'), params: { delay: headerAnimationDelay }, opacity : 1 }" (@fadeInLeft.done)="setOpacity(skillsHeader, 'skills')">{{ 'skills.header' | translate }}</h2>
        <p #skillsParagraph [@fadeInUp]="{ value: isSectionActive('skills'), params: { delay: contentAnimationDelay }, opacity : 1}" (@fadeInUp.done)="setOpacity(skillsParagraph, 'skills')">
          Je sais faire des patates
        </p>
      </section>

      <section id="contact">
        <div class="view-port-trigger"
             inViewport
             [inViewportOptions]="inViewportOptions"
             (inViewportAction)="onIntersection($event, 'contact')">
        </div>
        <h2 #contactHeader [@fadeInRight]="{ value: isSectionActive('contact'), params: { delay: headerAnimationDelay }, opacity : 1 }" (@fadeInRight.done)="setOpacity(contactHeader, 'contact')">{{ 'contact.header' | translate }}</h2>
        <p #contactParagraph [@fadeInUp]="{ value: isSectionActive('contact'), params: { delay: contentAnimationDelay }, opacity : 1}" (@fadeInUp.done)="setOpacity(contactParagraph, 'contact')">
          Je sais faire des patates
        </p>
      </section>
  </main>

  <footer fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="10px">
    <div fxLayout="row" fxLayoutAlign="center center">
      <div>Made with <mat-icon>favorite</mat-icon> using Angular</div>
    </div>
    <div fxLayout="row" fxLayoutAlign="center center">
      <div>Baptiste Rey Â© 2019</div>
    </div>
  </footer>
</div>
